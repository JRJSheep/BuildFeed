"use strict";var BuildFeed;!function(e){function t(e){e.preventDefault();this.nextElementSibling.classList.toggle("open")}function n(e){e.preventDefault();const t=this.parentElement.classList.contains("open");if(a(e),!t){this.parentElement.classList.toggle("open");document.getElementById("menu-open-overlay").classList.add("open")}}function a(e){e.preventDefault();const t=document.getElementsByClassName("dropdown-parent");for(let e=0;e<t.length;e++)t[e].classList.remove("open");document.getElementById("menu-open-overlay").classList.remove("open")}function o(e){e.preventDefault();document.cookie=`bf_theme=${this.dataset.theme}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`,location.reload(!0)}function l(e){e.preventDefault();document.cookie=`bf_lang=${this.dataset.lang}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`,location.reload(!0)}function d(e){e.preventDefault();document.getElementById("modal-search-overlay").classList.add("open")}function s(e){e.preventDefault();document.getElementById("modal-search-overlay").classList.remove("open")}function c(e){e.preventDefault(),e.stopPropagation()}function i(e){document.getElementById("modal-search-result").innerHTML="",void 0!==p&&clearTimeout(p),void 0!==m&&m.readyState!==XMLHttpRequest.DONE&&m.abort(),p=setInterval(r,200)}function r(){void 0!==p&&clearTimeout(p);const e=document.getElementById("modal-search-input");(m=new XMLHttpRequest).onreadystatechange=u,m.open("GET",`/api/GetSearchResult/${e.value}/`,!0),m.setRequestHeader("accept","application/json"),m.send(null)}function u(e){if(m.readyState!==XMLHttpRequest.DONE||200!==m.status)return;const t=document.getElementById("modal-search-result"),n=document.getElementById("result-template"),a=jsrender.templates(n.innerHTML).render(JSON.parse(m.responseText));t.innerHTML=a;const o=t.getElementsByTagName("a");for(let e=0;e<o.length;e++)o[e].addEventListener("click",e=>{e.preventDefault();const t=document.getElementById("modal-search-input");ga("send","pageview",`/api/GetSearchResult/${t.value}/`),location.assign(e.currentTarget.href)})}let m,p;e.MobileMenuToggle=t,e.DropdownClick=n,e.CloseDropdowns=a,e.SwitchTheme=o,e.SwitchLanguage=l,e.OpenSearch=d,e.CloseSearch=s,e.StopClick=c,e.InitiateSearch=i,e.SendSearch=r,e.CompleteSearch=u,e.BuildFeedSetup=function(e){const r=document.getElementsByClassName("dropdown-parent");for(let e=0;e<r.length;e++)for(let t=0;t<r[e].childNodes.length;t++){const a=r[e].childNodes[t];"A"===a.nodeName&&a.addEventListener("click",n)}document.getElementById("menu-open-overlay").addEventListener("click",a);const u=document.getElementById("settings-theme-menu").getElementsByTagName("a");for(let e=0;e<u.length;e++)u[e].addEventListener("click",o);const m=document.getElementById("settings-lang-menu").getElementsByTagName("a");for(let e=0;e<m.length;e++)m[e].addEventListener("click",l);document.getElementById("page-navigation-toggle").addEventListener("click",t),document.getElementById("page-navigation-search").addEventListener("click",d),document.getElementById("modal-search-overlay").addEventListener("click",s),document.getElementById("modal-search").addEventListener("click",c),document.getElementById("modal-search-input").addEventListener("keyup",i)}}(BuildFeed||(BuildFeed={})),window.addEventListener("load",BuildFeed.BuildFeedSetup);
//# sourceMappingURL=bfs.js.map

"use strict";var BuildFeed;!function(e){let t,n;function a(e){e.preventDefault();this.nextElementSibling.classList.toggle("open")}function o(e){e.preventDefault();const t=this,n=t.parentElement.classList.contains("open");if(l(e),!n){t.parentElement.classList.toggle("open"),document.getElementById("menu-open-overlay").classList.add("open")}}function l(e){e.preventDefault();const t=document.getElementsByClassName("dropdown-parent");for(let e=0;e<t.length;e++)t[e].classList.remove("open");document.getElementById("menu-open-overlay").classList.remove("open")}function d(e){e.preventDefault();document.cookie=`bf_theme=${this.dataset.theme}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`,location.reload(!0)}function c(e){e.preventDefault();document.cookie=`bf_lang=${this.dataset.lang}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`,location.reload(!0)}function s(e){e.preventDefault(),document.getElementById("modal-search-overlay").classList.add("open")}function i(e){e.preventDefault(),document.getElementById("modal-search-overlay").classList.remove("open")}function r(e){e.preventDefault(),e.stopPropagation()}function u(e){document.getElementById("modal-search-result").innerHTML="",void 0!==n&&clearTimeout(n),void 0!==t&&t.readyState!==XMLHttpRequest.DONE&&t.abort(),n=setInterval(m,200)}function m(){void 0!==n&&clearTimeout(n);const e=document.getElementById("modal-search-input");(t=new XMLHttpRequest).onreadystatechange=p,t.open("GET",`/api/GetSearchResult/${e.value}/`,!0),t.setRequestHeader("accept","application/json"),t.send(null)}function p(e){if(t.readyState!==XMLHttpRequest.DONE||200!==t.status)return;const n=document.getElementById("modal-search-result"),a=document.getElementById("result-template"),o=jsrender.templates(a.innerHTML).render(JSON.parse(t.responseText));n.innerHTML=o;const l=n.getElementsByTagName("a");for(let e=0;e<l.length;e++)l[e].addEventListener("click",e=>{e.preventDefault();const t=document.getElementById("modal-search-input");ga("send","pageview",`/api/GetSearchResult/${t.value}/`),location.assign(e.currentTarget.href)})}e.MobileMenuToggle=a,e.DropdownClick=o,e.CloseDropdowns=l,e.SwitchTheme=d,e.SwitchLanguage=c,e.OpenSearch=s,e.CloseSearch=i,e.StopClick=r,e.InitiateSearch=u,e.SendSearch=m,e.CompleteSearch=p,e.BuildFeedSetup=function(e){const t=document.getElementsByClassName("dropdown-parent");for(let e=0;e<t.length;e++)for(let n=0;n<t[e].childNodes.length;n++){const a=t[e].childNodes[n];"A"===a.nodeName&&a.addEventListener("click",o)}document.getElementById("menu-open-overlay").addEventListener("click",l);const n=document.getElementById("settings-theme-menu").getElementsByTagName("a");for(let e=0;e<n.length;e++)n[e].addEventListener("click",d);const m=document.getElementById("settings-lang-menu").getElementsByTagName("a");for(let e=0;e<m.length;e++)m[e].addEventListener("click",c);document.getElementById("page-navigation-toggle").addEventListener("click",a),document.getElementById("page-navigation-search").addEventListener("click",s),document.getElementById("modal-search-overlay").addEventListener("click",i),document.getElementById("modal-search").addEventListener("click",r),document.getElementById("modal-search-input").addEventListener("keyup",u)}}(BuildFeed||(BuildFeed={})),window.addEventListener("load",BuildFeed.BuildFeedSetup);
//# sourceMappingURL=bfs.js.map

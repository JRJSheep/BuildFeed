"use strict";var BuildFeed;!function(e){function t(e){e.preventDefault(),this.nextElementSibling.classList.toggle("open")}function n(e){e.preventDefault();var t=this,n=t.parentElement.classList.contains("open");if(a(e),!n){t.parentElement.classList.toggle("open");document.getElementById("menu-open-overlay").classList.add("open")}}function a(e){e.preventDefault();for(var t=document.getElementsByClassName("dropdown-parent"),n=0;n<t.length;n++)t[n].classList.remove("open");document.getElementById("menu-open-overlay").classList.remove("open")}function o(e){e.preventDefault();var t=this;document.cookie="bf_theme="+t.dataset.theme+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/",location.reload(!0)}function l(e){e.preventDefault();var t=this;document.cookie="bf_lang="+t.dataset.lang+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/",location.reload(!0)}function d(e){e.preventDefault(),document.getElementById("modal-search-overlay").classList.add("open")}function r(e){e.preventDefault(),document.getElementById("modal-search-overlay").classList.remove("open")}function i(e){e.preventDefault(),e.stopPropagation()}function c(e){document.getElementById("modal-search-result").innerHTML="",void 0!==g&&clearTimeout(g),void 0!==p&&p.readyState!==XMLHttpRequest.DONE&&p.abort(),g=setInterval(s,200)}function s(){void 0!==g&&clearTimeout(g);var e=document.getElementById("modal-search-input");p=new XMLHttpRequest,p.onreadystatechange=u,p.open("GET","/api/GetSearchResult/"+e.value+"/",!0),p.setRequestHeader("accept","application/json"),p.send(null)}function u(e){if(p.readyState===XMLHttpRequest.DONE&&200===p.status){var t=document.getElementById("modal-search-result"),n=document.getElementById("result-template"),a=jsrender.templates(n.innerHTML),o=a.render(JSON.parse(p.responseText));t.innerHTML=o;for(var l=t.getElementsByTagName("a"),d=0;d<l.length;d++)l[d].addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("modal-search-input");ga("send","pageview","/api/GetSearchResult/"+t.value+"/"),location.assign(e.currentTarget.href)})}}function m(e){for(var s=document.getElementsByClassName("dropdown-parent"),u=0;u<s.length;u++)for(var m=0;m<s[u].childNodes.length;m++){var p=s[u].childNodes[m];"A"===p.nodeName&&p.addEventListener("click",n)}document.getElementById("menu-open-overlay").addEventListener("click",a);for(var g=document.getElementById("settings-theme-menu").getElementsByTagName("a"),u=0;u<g.length;u++)g[u].addEventListener("click",o);for(var v=document.getElementById("settings-lang-menu").getElementsByTagName("a"),u=0;u<v.length;u++)v[u].addEventListener("click",l);document.getElementById("page-navigation-toggle").addEventListener("click",t),document.getElementById("page-navigation-search").addEventListener("click",d),document.getElementById("modal-search-overlay").addEventListener("click",r),document.getElementById("modal-search").addEventListener("click",i),document.getElementById("modal-search-input").addEventListener("keyup",c)}var p,g;e.MobileMenuToggle=t,e.DropdownClick=n,e.CloseDropdowns=a,e.SwitchTheme=o,e.SwitchLanguage=l,e.OpenSearch=d,e.CloseSearch=r,e.StopClick=i,e.InitiateSearch=c,e.SendSearch=s,e.CompleteSearch=u,e.BuildFeedSetup=m}(BuildFeed||(BuildFeed={})),window.addEventListener("load",BuildFeed.BuildFeedSetup);
//# sourceMappingURL=bfs.js.map

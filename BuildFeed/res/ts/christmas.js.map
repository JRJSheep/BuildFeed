{"version":3,"sources":["christmas.ts"],"names":[],"mappings":"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","file":"christmas.js","sourcesContent":["\"use script\";\r\n\r\nmodule BuildFeed.Christmas\r\n{\r\n    const movementSpeed = 5;\r\n\r\n    let snowContainer: HTMLDivElement;\r\n    let snow: Array<Snowflake> = [];\r\n    let counter: number = 0;\r\n    let tick: number = 0;\r\n\r\n    class Snowflake\r\n    {\r\n        private readonly element: HTMLDivElement;\r\n        private top: number;\r\n        private left: number;\r\n\r\n        public getElement()\r\n        {\r\n            return this.element;\r\n        }\r\n\r\n        public bumpElement(moveX: boolean)\r\n        {\r\n            let localSpeed = Math.round(((Math.random() / 2) + 0.5) * movementSpeed);\r\n            this.top = this.top + localSpeed;\r\n            if (this.top < -10 || this.top > (window.innerHeight + 10))\r\n            {\r\n                this.element.remove();\r\n                return true;\r\n            }\r\n\r\n            if (moveX)\r\n            {\r\n                localSpeed = Math.round(((Math.random() / 2) + 0.5) * movementSpeed);\r\n                this.left = Math.random() > 0.5\r\n                    ? this.left + localSpeed\r\n                    : this.left - localSpeed;\r\n\r\n                if (this.left < -10 || this.left > (window.innerWidth + 10))\r\n                {\r\n                    this.element.remove();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            this.element.style.transform = `translate(${this.left}px, ${this.top}px)`;\r\n            return false;\r\n        }\r\n\r\n        constructor()\r\n        {\r\n            this.element = document.createElement(\"div\");\r\n            this.top = 0;\r\n            this.left = Math.round(Math.random() * window.innerWidth);\r\n        }\r\n    }\r\n\r\n    function deferAnimate()\r\n    {\r\n        window.requestAnimationFrame(animate);\r\n    }\r\n\r\n    function animate()\r\n    {\r\n        if (counter % 5 === 0)\r\n        {\r\n            for (let i = 0; i < 2; i++)\r\n            {\r\n                const newSnow = new Snowflake();\r\n                snow.push(newSnow);\r\n                snowContainer.appendChild(newSnow.getElement());\r\n            }\r\n        }\r\n\r\n        for (const flake of snow)\r\n        {\r\n            const result = flake.bumpElement(true);\r\n\r\n            if (result)\r\n            {\r\n                snow.splice(snow.indexOf(flake), 1);\r\n            }\r\n        }\r\n\r\n        counter++;\r\n    }\r\n\r\n    export function Setup()\r\n    {\r\n        snowContainer = document.createElement(\"div\");\r\n        snowContainer.className = \"snow-container\";\r\n        document.body.appendChild(snowContainer);\r\n\r\n        window.requestAnimationFrame(animate);\r\n        setInterval(deferAnimate, 125);\r\n    }\r\n}\r\n\r\nwindow.addEventListener(\"load\", BuildFeed.Christmas.Setup);"]}